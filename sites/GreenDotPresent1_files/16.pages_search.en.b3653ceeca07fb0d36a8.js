webpackJsonp([16],{1117:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){(0,o.default)(e),k.default.attachTo(document,e),M.default.attachTo(document),c.default.attachTo(document,e),O.default.attachTo(document,e),f.default.attachTo(document,e),C.default.attachTo(document,e),e.excludeExpandingTweets||h.default.attachTo(t,e);var i=".js-new-items-bar-container";b.default.attachTo(i,e),e.excludeUserActions||R.default.attachTo(t,a({},e,{genericItemSelector:".js-stream-item"})),U.default.attachTo(document),v.default.attachTo(document),m.default.attachTo(document),S.default.attachTo(document)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(1118),o=s(r),l=i(1122),c=s(l),d=i(1123),h=s(d),u=i(1129),f=s(u),p=i(1130),m=s(p),g=i(1131),v=s(g),w=i(1132),S=s(w),y=i(1133),b=s(y),T=i(474),C=s(T),D=i(1135),k=s(D),I=i(1149),M=s(I),P=i(1150),O=s(P),A=i(1151),R=s(A),j=i(1153),U=s(j);e.default=n},1123:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({tweetSelector:".tweet",tweetFormSelector:".tweet-form",conversationModuleSelector:".conversation-module",animatedGifSelector:".animated-gif"})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1124),l=s(o),c=i(1125),d=s(c),h=i(823),u=s(h),f=i(1126),p=s(f),m=i(1128),g=s(m),v=i(477),w=s(v),S=i(910),y=s(S);e.default=(0,r.default)(n,d.default,p.default,g.default,u.default,y.default,w.default,l.default)},1124:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){o.default.mixin(this,[c.default]),this.getPlayableMediaEventData=function(t){var e={},i=t.find("[data-media-id]").attr("data-media-id");if(i)e.playlist_url=i,e.video_uuid=i;else{var s=t.find("[data-card-url]").attr("data-card-url");e.playlist_url=s,e.video_uuid=s}return e.video_type="video",e.card_details=JSON.stringify(e),e},this.logPlayableMediaEvents=function(t,e,i){var s=e.attr("data-tweet-id"),n=void 0;n="animated_gif"===i||"__entity_animated_gif"===i?"gif_player":"vine_player";var r=a({},this.interactionData(e),this.getPlayableMediaEventData(e));this.eventsFired.view[s]||(this.trigger("uiPlayableMediaEvent",a({name:"video_content_view"},r)),this.scribeInteraction({action:"video_view",element:n},r),this.eventsFired.view[s]=!0),this.eventsFired[t][s]||(this.trigger("uiPlayableMediaEvent",a({name:"video_content_"+t},r)),this.scribeInteraction({action:t,element:n},r),this.eventsFired[t][s]=!0)},this.shouldCollectAnalytics=function(t,e){return"animated_gif"===e||t.data("has-vine")},this.onAutoplayStart=function(e){var i=this,s=t(e.target);if(s.length){var n=s.find("[data-card2-name]").attr("data-card2-name");this.shouldCollectAnalytics(s,n)&&(this.autoplayTimeout=setTimeout(function(){return i.logPlayableMediaEvents("view_threshold",s,n)},3e3))}},this.onAutoplayStop=function(){this.autoplayTimeout&&clearTimeout(this.autoplayTimeout)},this.onTweetExpanded=function(e){var i=t(e.target);if(i.length){var s=i.find("[data-card2-name]").attr("data-card2-name");this.shouldCollectAnalytics(i,s)&&this.logPlayableMediaEvents("play_from_tap",i,s)}},this.after("initialize",function(){this.eventsFired={view:{},play_from_tap:{},view_threshold:{}},this.on("uiLOHPMediaPlay",this.onTweetExpanded),this.on("uiAutoplayMedia",this.onAutoplayStart),this.on("uiStopAutoplayingMedia",this.onAutoplayStop)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=n;var r=i(121),o=s(r),l=i(138),c=s(l)}).call(e,i(10))},1125:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({missingTweetsLinkSelector:"a.missing-tweets-link",missingTweetsBarSelector:".missing-tweets-bar",focalTweetSelector:".original-tweet",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",conversationTweetClass:"conversation-tweet",detachedConversationClass:"detached-conversation",expandingConversationClass:"expanding-conversation",selectedSelector:".selected-stream-item",awaitingAncestorsClass:".conversation-awaiting-ancestors"}),this.handleExpandConversationAndLoadMissingTweets=function(t){t.preventDefault();var e=this.streamItemFromEvent(t),i=this.getFocalPoint(e),s=i.data("permalink-path"),n=i.data("conversation-id");s&&this.trigger("uiNavigate",{href:s,conversation_id:n})},this.streamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getFocalPoint=function(t){return t.find(this.attr.focalTweetSelector)},this.getTweetId=function(e){return t(e).find(".tweet").attr("data-tweet-id")},this.notifyConversationMutated=function(e,i){var s=t(e.target),n=s.closest(this.attr.conversationModuleSelector);n.length&&this.trigger(n,"uiConversationModuleUpdated")},this.after("initialize",function(){this.on("click",{missingTweetsLinkSelector:this.handleExpandConversationAndLoadMissingTweets}),this.on("uiShortcutEnter",{missingTweetsBarSelector:this.handleExpandConversationAndLoadMissingTweets}),this.on("uiTweetInserted uiBeforeTweetRemoved",this.notifyConversationMutated)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1126:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.getSize=function(t,e){var i=e.attr("data-width"),s=e.attr("data-height"),n=e.width(),a=s*(n/i);return{h:a,w:n}},this.createMediaElement=function(t,e,i){return new MediaElement(t,{pluginPath:r.default.path,flashName:"flashmediaelement.swf",loop:!0,defaultVideoHeight:e.h,defaultVideoWidth:e.w,pluginHeight:e.h,pluginWidth:e.w,success:i})},this.prepareMediaElement=function(t,e){var i=this,s=function(t){i.setCurrentTime(t,0),t.play()},n=this.createMediaElement(t,e,function(t){t.addEventListener("ended",function(){t&&s(t)},!1),t.addEventListener("timeupdate",function(){if("native"===n.pluginType&&t.duration<=t.currentTime){var e=function i(){s(t),t.removeEventListener("loadeddata",i)};t.addEventListener("loadeddata",e),t.load()}},!1),t.play()});return n},this.getPlayer=function(t){if(t.length){var e=t.find(this.attr.animatedGifSelector);if(e.length)return this.players[t.attr("data-tweet-id")]}return null},this.setCurrentTime=function(t,e){"native"===t.pluginType?t.currentTime=e:t.setCurrentTime(e)},this.autoplayGif=function(e){this.startGif(t(e.target).closest(".tweet"))},this.startGifOnEvent=function(e){this.startGif(t(e.target))},this.startGif=function(t){var e=this;if(t=t.filter(":not(.animated-gif-playing)").has(this.attr.animatedGifSelector),t.length){var i=t.attr("data-tweet-id");if(!this.players[i]){var s=t.find(this.attr.animatedGifSelector),n=s.find("[video-src]");n.attr("src",n.attr("video-src"));var a=s.get(0),r=this.getSize(t,s);this.players[i]=this.prepareMediaElement(a,r),this.players[i].load()}t.addClass("animated-gif-playing"),setTimeout(function(){return e.players[i]&&e.players[i].play&&e.players[i].play()},1)}},this.stopAutoplayingGif=function(e){this.stopGif(t(e.target).closest(".tweet"))},this.stopGifOnEvent=function(e){this.stopGif(t(e.target))},this.stopGif=function(t){var e=t.hasClass("animated-gif-playing")&&this.getPlayer(t);e&&(t.removeClass("animated-gif-playing"),t.find(".me-plugin").remove(),e.pause&&e.pause())},this.pauseGif=function(e){var i=t(e.target),s=i.hasClass("animated-gif-playing")&&this.getPlayer(i);s&&s.pause&&s.pause()},this.seekGif=function(e,i){var s=t(e.target),n=s.hasClass("animated-gif-playing")&&this.getPlayer(s);if(n){var a=i.position*n.duration;isNaN(n.duration)||(this.setCurrentTime(n,Math.min(a,n.duration)),n.pause())}},this.after("initialize",function(){this.players={},this.on("uiAutoplayMedia",this.autoplayGif),this.on("uiStartGif",this.startGifOnEvent),this.on("uiStopAutoplayingMedia",this.stopAutoplayingGif),this.on("uiStopGif",this.stopGifOnEvent),this.on("uiPauseGif",this.pauseGif),this.on("uiSeekGif",this.seekGif)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1127),r=s(a);e.default=n}).call(e,i(10))},1127:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={path:"/flash/1/"}},1128:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){l.default.mixin(this,[d.default]),this.defaultAttrs({snapReelVideoSelector:"video.js-snap-reel",easingAcceleration:.5,FPS:(0,r.default)().chrome?20:30}),this.logInteraction=function(t){var e=t.attr("data-tweet-id");this.eventScribed[e]||(this.scribeInteraction({action:"snap_reel_interaction"},this.interactionData(t)),this.eventScribed[e]=!0)},this.mouseOver=function(e){var i=this;this.video=t(e.target),this.tweet=this.video.parents(this.attr.tweetSelector),this.tweet.hasClass("animated-gif-playing")&&(this.scribeTimeout=setTimeout(function(){return i.logInteraction(i.tweet,i.video)},3e3)),this.start()},this.mouseOut=function(t){clearTimeout(this.scribeTimeout),this.tweet&&this.tweet.hasClass("animated-gif-playing")&&(this.tweet.removeClass("animated-gif-playing"),this.trigger(this.tweet,"uiStartGif")),this.stop(),this.scribeTimeout=void 0,this.tweet=void 0,this.targetPosition=void 0},this.mouseMove=function(t){this.tweet&&this.tweet.hasClass("animated-gif-playing")&&(this.targetPosition=t.pageX-this.video.offset().left)},this.start=function(){this.running=!0,this.tick()},this.stop=function(){this.running=!1},this.tick=function(){var t=this;if(this.running){var e=1e3/this.attr.FPS;setTimeout(function(){requestAnimationFrame(t.tick.bind(t)),t.update()},e)}},this.update=function(){if(this.targetPosition){this.currentPosition+=(this.targetPosition-this.currentPosition)*this.attr.easingAcceleration;var t=this.currentPosition/this.video.width();this.trigger(this.tweet,"uiSeekGif",{position:t})}},this.after("initialize",function(t,e){this.scribeTimeout=void 0,this.eventScribed={},this.currentPosition=0,this.on("mouseover",{snapReelVideoSelector:this.mouseOver}),this.on("mouseout",{snapReelVideoSelector:this.mouseOut}),this.on("mousemove",{snapReelVideoSelector:this.mouseMove})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(156),r=s(a),o=i(121),l=s(o),c=i(138),d=s(c)}).call(e,i(10))},1129:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.deleteMediaTag=function(t,e){var i=function(t){this.trigger("dataMediaTagRemoveSuccess",t)},s=function(t,i,s){this.trigger("dataMediaTagRemoveFailure",{id:e.id,status:i,errorThrown:s})},n={status_id:e.id};this.post({url:"/i/media/media_tags/delete",data:n,eventData:e,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("uiDidRemoveMediaTag",this.deleteMediaTag)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(244),l=s(o),c=(0,r.default)(n,l.default);e.default=c},1132:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeTweetAction=function(t,e,i){var s=i&&i.scribeContext&&i.scribeContext.component;this.scribe({component:s,element:"moment",action:t})},this.after("initialize",function(){this.on("uiMomentMakerAddTweet",this.scribeTweetAction.bind(this,"add")),this.on("uiMomentMakerRemoveTweet",this.scribeTweetAction.bind(this,"remove")),this.on("dataMomentMakerAddTweetFailure",this.scribeTweetAction.bind(this,"add_failure")),this.scribeOnEvent("uiOpenAddToMomentDialog",{component:"add_to_moment_dialog",action:"open"})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1133:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({newItemsBarSelector:".js-new-tweets-bar",containerSelector:".stream-container",newTweetsBarVisibleClass:"new-tweets-bar-visible",scrollTopOnNewItemsClick:!0}),this.updateNewItemsBar=function(e,i){if(e.target.contains(this.node)){var s=t(i.html),n=this.select("newItemsBarSelector");n.length?(n.replaceWith(s),this.trigger("uiNewItemsBarUpdated")):(this.$node.html(s),this.$node.hide(),this.showNewItemsBar(),this.trigger("uiNewItemsBarShown")),this.trigger("uiNewItemsBarVisible")}},this.showNewItemsBar=function(){var e=this.$node.parent(),i=l.default.getCanvasYOffset(e),s=t(window).scrollTop();this.$node.addClass(this.attr.newTweetsBarVisibleClass),s>i?(this.$node.show(),t("html, body").scrollTop(s+this.$node.height())):this.$node.slideDown()},this.hideNewItemsBar=function(){this.trigger("uiNewItemsBarHidden");var t=this.select("newItemsBarSelector");t.remove(),this.$node.removeClass(this.attr.newTweetsBarVisibleClass)},this.handleNewItemsBarClick=function(e,i){var s=t(e.target).closest("[data-live-video-item-json]").attr("data-live-video-item-json");this.attr.scrollTopOnNewItemsClick&&(0,d.default)(0,"fast"),this.trigger("uiInjectNewItems",{fromClick:!0});var n=t(e.target).attr("data-item-count"),a={unreadCount:Number(n)};if(s)try{a.items=[JSON.parse(s)]}catch(e){}this.trigger("uiNewItemsBarClick",a)},this.after("initialize",function(){this.on(document,"uiUpdateNewItemsBar",this.updateNewItemsBar),this.on(document,"uiHideNewItemsBar",this.hideNewItemsBar),this.on("click",{newItemsBarSelector:this.handleNewItemsBarClick})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(178),l=s(o),c=i(1134),d=s(c);e.default=(0,r.default)(n)}).call(e,i(10))},1149:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){this.defaultAttrs({itemType:"tweet"}),this.scribeActivityCount=function(t,e,i){var s={component:this.attr.itemType,element:t,action:"click"};this.scribe(s,this.interactionData(e))},this.after("initialize",function(){this.on("uiRequestReplyActivity",this.scribeActivityCount.bind(this,"reply_count")),this.on("uiRequestRetweetedActivity",this.scribeActivityCount.bind(this,"retweet_count")),this.on("uiRequestFavoritedActivity",this.scribeActivityCount.bind(this,"favorite_count"))})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(138),l=s(o),c=i(141),d=s(c),h=(0,r.default)(n,l.default,d.default);e.default=h},1150:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.getTweetTranslation=function(t,e){var i=function(e){e&&e.message&&this.trigger("uiShowMessage",{message:e.message}),this.trigger(t.target,"dataTweetTranslationSuccess",e)},s=function(i,s,n){this.trigger(t.target,"dataTweetTranslationError",{id:e.id,status:s,errorThrown:n})},n={id:e.tweetId,dest:e.dest};this.get({url:"/i/translations/show.json",data:n,eventData:e,success:i.bind(this),error:s.bind(this)})},this.submitTweetTranslation=function(t,e){var i=function(e){this.trigger(t.target,"dataTweetTranslationSuggestionSuccess",e)},s=function(i,s,n){this.trigger(t.target,"dataTweetTranslationSuggestionError",{id:e.id,status:s,errorThrown:n})};this.post({url:"/i/translations/suggest.json",data:e,eventData:e,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("uiNeedsTweetTranslation",this.getTweetTranslation),this.on("uiSuggestTweetTranslation",this.submitTweetTranslation)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(244),l=s(o),c=(0,r.default)(n,l.default);e.default=c},1151:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1152),l=s(o),c=i(874),d=s(c);e.default=(0,r.default)(n,d.default,l.default)},1152:function(t,e,i){(function(t){"use strict";function i(){this.getItemPosition=function(e){return t(this.attr.genericInteractionItemSelector).index(e.closest(this.attr.genericInteractionItemSelector))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1156:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1157),a=s(n),r=i(1164),o=s(r),l=i(1165),c=s(l),d=i(1169),h=s(d),u=i(872),f=s(u),p=i(907),m=s(p),g=i(871),v=s(g),w=i(1167),S=s(w),y=i(1170),b=s(y),T=i(1171),C=s(T),D=i(1172),k=s(D),I=a.default.mixin(o.default,c.default,h.default,f.default,m.default,v.default,S.default,b.default,C.default,k.default);e.default=I},1165:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.injectNewItems=function(t,e){if(!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},o.default.mixin(this,[c.default,h.default]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t,e){var i=Object.keys(this.composedThenInjectedTweetIds);this.trigger("uiWantsMoreTimelineItems",a({include_new_items_bar:!(e&&e.injectImmediately),latent_count:this.latentCount,composed_count:i.length,composed_ids:i},this.getNewItemsData(),this.getNewItemsCountData&&this.getNewItemsCountData(),e))},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}(e.injectImmediately||e.timeline_empty)&&this.trigger("uiInjectNewItems"),e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){var i=t("<div>").html(e).find(this.attr.streamItemSelector).toArray();return i.map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){e.fromCache&&this.attr.refreshOnReturn&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=u={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){this.latentItems=[],this.latentCount=0,this.composedThenInjectedTweetIds=u,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",this.saveLatentItems),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(121),o=s(r),l=i(1166),c=s(l),d=i(1168),h=s(d),u={};e.default=n}).call(e,i(10))},1166:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){r.default.mixin(this,[l.default]);var e=700;this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,n=this.injectNewItems({},{autoplay:!0}),a=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(t){n.first().before(t),n=n.add(t),this.trigger(t,"uiShouldFixMargins")});var r=n.first().offset().top,o=r>e&&r<i,l=a.offset().top,c=n.last().next().offset().top-l+1;o?(a.css("marginTop",-c),this.animateBlockOfItems()):this.setScrollerScrollTop(e+c)}},this.animateBlockOfItems=function(){var t=this,i=this.select("streamItemsSelector"),s=this.$window.scrollTop(),n=parseFloat(i.css("marginTop"));i.parent().css("overflow","hidden"),i.animate({marginTop:0},{duration:e+Math.abs(n),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(s+Math.abs(n-Math.ceil(e)))},complete:function(){i.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){var i=this.attr.overflowScroll?this.$node:t(window);i.scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(121),r=s(a),o=i(1167),l=s(o);e.default=n}).call(e,i(10))},1167:function(t,e){"use strict";function i(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1168:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.pollingTimer.clear(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions)}var s=e.sourceEventData;s.fromPolling&&(this.isNewItem(e)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.pollingTimer&&this.pollingTimer.clear()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.pollingTimer=(0,r.default)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling())})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(947),r=s(a);e.default=n}).call(e,i(10))},1169:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var s=t(i.el),n=s.hasClass("show");this.toggleSupplementTrigger(s,n),this.toggleSubStreamItemsVisibility(s.parent(),n)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1170:function(t,e){"use strict";function i(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1171:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({adaptivePhotoContainer:".js-adaptive-photo",adaptiveMediaContainer:".AdaptiveMedia"}),this.getPermalinkPath=function(t){return t.closest(this.attr.streamItemSelector).find(this.attr.permalinkSelector).attr("href")},this.openAdaptiveMediaGallery=function(e,i){e.preventDefault(),e.stopPropagation();var s=t(e.target).closest(this.attr.adaptivePhotoContainer);this.trigger(e.target,"uiOpenGallery",{timelineSelector:this.attr.adaptiveMediaContainer,inOverlay:this.attr.inOverlay});var n=s.closest("[data-impression-id]");n.length&&(n.attr("data-embedded-media-logged",!0),this.trigger("uiEmbeddedMedia",{impressionId:n.data("impression-id"),disclosureType:n.data("disclosure-type")})),i&&i.skipClickScribe||this.trigger("uiMediaThumbnailClick",{url:s.attr("data-image-url"),mediaType:"photo"})},this.openSelectedTweetAdaptiveMediaGallery=function(e){this.trigger(t(e.target).find(this.attr.adaptivePhotoContainer),"uiKeyboardOpenAdaptiveGallery",{skipClickScribe:!0})},this.after("initialize",function(){this.on(document,"uiOpenSelectedPhoto",this.openSelectedTweetAdaptiveMediaGallery),this.on("click uiKeyboardOpenAdaptiveGallery",{adaptivePhotoContainer:this.openAdaptiveMediaGallery})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1184:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){var t=/:[A-Z0-9_-]+$/i;this.scribeMediaThumbnailResults=function(e,i){var s=i.thumbnails.length,n=s?"results":"no_results",a={};s&&(a.items=i.thumbnails.map(function(e){return{name:e.replace(t,"")}})),this.scribe({action:n},i,a)},this.scribeMediaThumbnailClick=function(e,i){var s={url:i.url&&i.url.replace(t,"")},n={element:i.mediaType,action:"click"};this.scribe(n,i,s)},this.after("initialize",function(){this.on(document,"uiMediaGalleryResults",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailsVisible",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailClick",this.scribeMediaThumbnailClick)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1202:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({streamUserSelector:".stream-items .js-actionable-user"}),this.oldUsersDisplayed=function(t,e){var i=e.items||[],s=i.map(function(t){return{id:t.userId,impressionId:t.impressionId}});this.trigger("uiUsersDisplayed",{users:s})},this.usersDisplayed=function(){var e=this.select("streamUserSelector"),i=[];e.each(function(e,s){var n=t(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),this.trigger("uiUsersDisplayed",{users:i})},this.after("initialize",function(){this.usersDisplayed(),this.on("uiHasInjectedOldTimelineItems",this.oldUsersDisplayed)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1203:function(t,e,i){(function(t){"use strict";function i(){this.aroundGetOldItemsData=function(e){var i=e();return this.attr.useExcludedIdsPagination&&(i.excluded=this.select("excludedUserSelector").map(function(){return t(this).attr("data-user-id")}).toArray().join(","),i.cursor=void 0),i},this.after("initialize",function(){this.around("getOldItemsData",this.aroundGetOldItemsData)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1277:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({tweetSelector:".tweet",tweetActionSelector:".ProfileTweet-action",favoriteCountSelector:".ProfileTweet-action--favorite .ProfileTweet-actionCount",retweetCountSelector:".ProfileTweet-action--retweet .ProfileTweet-actionCount",replyCountSelector:".ProfileTweet-action--reply .ProfileTweet-actionCount",actionCountForPresentationSelector:".ProfileTweet-actionCountForPresentation",actionCountForAriaSelector:".ProfileTweet-actionCountForAria",zeroCountClass:"ProfileTweet-actionCount--isZero"}),this.updateTweetStats=function(t,e){var i=this;e.stats&&e.stats.forEach(function(t){var e=i.findTweetOrRetweet(t.status_id),s=e.find(i.statElementSelectorFor(t.name));i.updateAria(s,t.count,t.title),i.updatePresentation(s,t.count,t.compact_count)})},this.initializeTweetStats=function(e,i){var s=this,n=this.findUninitializedTweetOrRetweet();n.each(function(e,i){return s.renderTweetStats(t(i))})},this.renderTweetStats=function(t){var e=this;t.attr("data-tweet-stat-initialized","true"),["favorite","retweet","reply"].forEach(function(i){var s=i,n=t.find(e.statElementSelectorFor(s)),a=n&&n.attr("data-tweet-stat-count");if(void 0!==a){var r=d.default.compactOrCommaize(a,l.default.language);e.updatePresentation(n,a,r)}})},this.updatePresentation=function(t,e,i){var s=t.find(this.attr.actionCountForPresentationSelector);t.attr("data-tweet-stat-count",Math.max(e,0)),e<=0?(t.addClass(this.attr.zeroCountClass),s.empty()):(t.removeClass(this.attr.zeroCountClass),s.text(i));
},this.updateAria=function(t,e,i){var s=t.find(this.attr.actionCountForAriaSelector);s.text(i),e<=0?(t.attr("aria-hidden","true"),s.removeAttr("data-aria-label-part")):(t.removeAttr("aria-hidden"),s.attr("data-aria-label-part","0"))},this.findTweetOrRetweet=function(t){var e=this.select("tweetSelector").filter("[data-tweet-id="+t+"]");return e.length||(e=this.select("tweetSelector").filter("[data-retweet-id="+t+"]")),e},this.findUninitializedTweetOrRetweet=function(){return this.select("tweetSelector").filter(":not([data-tweet-stat-initialized=true])")},this.statElementSelectorFor=function(t){var e={favorite:this.attr.favoriteCountSelector,retweet:this.attr.retweetCountSelector,reply:this.attr.replyCountSelector};return e[t]},this.after("initialize",function(){this.on("uiSwiftLoaded uiPageChanged uiNeedUpdateInjectedTweetStats",this.initializeTweetStats),this.on("dataGotTweetStats",this.updateTweetStats)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1148),l=s(o),c=i(1137),d=s(c),h=i(1278),u=s(h);e.default=(0,r.default)(n,u.default)}).call(e,i(10))},1278:function(t,e){"use strict";function i(){this.defaultAttrs({retweetStatSelector:".js-stat-retweets a",favoriteStatSelector:".js-stat-favorites a",tweetStatCountSelector:"data-tweet-stat-count",displayCountSelector:"strong"}),this.updateSocialProofStats=function(t,e){var i=this;t.target===document&&e.stats&&e.stats.forEach(function(t){var e=i.findTweetOrRetweet(t.status_id),s=e.find(i.socialProofStatElementSelectorFor(t.name));i.updateSocialProofStat(s,t)})},this.socialProofStatElementSelectorFor=function(t){var e={retweet:this.attr.retweetStatSelector,favorite:this.attr.favoriteStatSelector};return e[t]},this.updateSocialProofStat=function(t,e){t.attr(this.attr.tweetStatCountSelector,e.count),t.find(this.attr.displayCountSelector).text(e.commaized_count)},this.after("initialize",function(){this.on("dataGotTweetStats",this.updateSocialProofStats)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1284:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.viewportHelpers=u.default,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var e=this,i=this.allVisibleTweets(),s=i.map(function(t){return this.interactionDataWithCard(t)},this),n=this.select("cursorSelector").filter(function(i,s){u.default.isWithinBounds(e.$window,t(s))}).toArray().map(function(e){return{type:t(e).data("cursor-type-name"),cursor:t(e).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:s,cursorData:n})},this.allVisibleTweets=function(){var t=this.select("tweetSelector"),e=this.findVisibleTweet(t);if(e===-1)return[];for(var i=[],s=e;t[s]&&u.default.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s--;for(i.reverse(),s=e+1;t[s]&&u.default.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s++;return i},this.findVisibleTweet=function(t){var e=u.default.getContainerRect(this.$window);return this.findVisibleTweetRecursive(t.length,0,t,0,e)},this.findVisibleTweetRecursive=function(t,e,i,s,n){var a=Math.floor((t-e)/2+e);return a===e||s>100?-1:u.default.isAboveViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(t,a,i,s+1,n):u.default.isBelowViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(a,e,i,s+1,n):a},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=t(window),this.pollingInterval=d.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(138),l=s(o),c=i(110),d=s(c),h=i(177),u=s(h);e.default=(0,r.default)(n,l.default)}).call(e,i(10))},1285:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(t,e){this.recordVisibleTweets(e.tweetData),e.cursorData&&this.recordVisibleCursors(e.cursorData)},this.recordVisibleCursors=function(t){var e=this,i={};t.forEach(function(t){e.visibleCursors[t.cursor]&&(e.previouslyVisibleCursors[t.cursor]=t.type),i[t.cursor]=t.type}),this.visibleCursors=i},this.recordVisibleTweets=function(t){var e={},i=this.getTime();t.forEach(function(t){this.visibleTweets[t.tweetId]?e[t.tweetId]=a({},this.visibleTweets[t.tweetId],{visibility_end:i}):e[t.tweetId]=a({},t,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(t){var i=this.visibleTweets[t],s=!e[t],n=i.visibility_start!==i.visibility_end;s&&n&&this.previouslyVisibleTweets.push(this.visibleTweets[t])},this),this.visibleTweets=e},this.flushVisibleTweets=function(t,e){var i=this.getTime();this.visibleTweetKeys().forEach(function(t){this.visibleTweets[t].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(t,e){e.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var t=this;if(Object.keys(this.previouslyVisibleCursors).length){var e={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){t.previouslyScribedCursors[i]||(t.scribe(e,{event_info:t.previouslyVisibleCursors[i]}),t.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var t={component:"stream",element:"linger",action:"results"},e={items:this.previouslyVisibleTweets.map(function(t){return this.interactionItem(t)},this)};this.previouslyVisibleTweets=[],this.scribe(t,e)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(t){return this.visibleTweets.propertyIsEnumerable(t)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=f.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),o=s(r),l=i(142),c=s(l),d=i(141),h=s(d),u=i(110),f=s(u);e.default=(0,o.default)(n,c.default,h.default)},1305:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=r.default,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),n=this;t.each(s,function(e,i){var s=t(i).attr("data-tweet-id");s&&n.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse((0,r.default)(this.attr.promotedTweetStoreCookieName))}catch(s){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),(0,r.default)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(154),r=s(a);e.default=n}).call(e,i(10))},1307:function(t,e){"use strict";function i(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1318:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1045),a=s(n),r=i(1319),o=s(r);e.default=a.default.mixin(o.default)},1319:function(t,e,i){(function(t){"use strict";function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(e,i,s){var n=this.select("selectedStreamItemSelector"),a=n[0],r=e.target;return n.is(r)||!(!a||!t.contains(a,r))},this.getSelectedTweet=function(t,e,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),n=!!s.length;return n&&(i.$tweet=s),n},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleRetweet)),this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i}).call(e,i(10))},1367:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){u.default.attachTo(document),r.default.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),p.default.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),l.default.attachTo(document),d.default.attachTo(document),g.default.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(1368),r=s(a),o=i(1369),l=s(o),c=i(1370),d=s(c),h=i(1371),u=s(h),f=i(1372),p=s(f),m=i(1373),g=s(m)},1368:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,s=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},s=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)},n=e?this.post:this.get;n.call(this,{url:"/trends/dialog",eventData:t,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=(0,l.default)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(947),l=s(o),c=i(244),d=s(c);e.default=(0,r.default)(n,d.default)}).call(e,i(10))},1369:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},s={woeid:i.woeid,personalized:e.personalized,pc:!0},n=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:s,success:n.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(244),l=s(o);e.default=(0,r.default)(n,l.default)},1370:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=(0,l.default)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){var e=this.storage.getArray(this.attr.storageKey);return e.some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(247),l=s(o),c=i(244),d=s(c);e.default=(0,r.default)(n,d.default)},1371:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},s=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:d.default.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===t.source&&(i.event_initiator=u.default.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),s={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(s,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o),c=i(144),d=s(c),h=i(1160),u=s(h);e.default=(0,r.default)(n,l.default)},1372:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),s=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var n=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:n,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var s=t(i.el).closest(this.attr.trendItemSelector),n=this.getTrendData(s)[0],a=s.index(),r={name:n.name,item_type:l.default.trend,item_query:n.name,position:a,token:n.token,id:n.id},o={position:a,query:n.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};n.promotedTrendId&&(r.promoted_id=n.promotedTrendId,o.promoted=!0),o.items=[r],this.trigger("uiTrendSelected",{isPromoted:!!n.promotedTrendId,promotedTrendId:n.promotedTrendId,scribeContext:{element:"trend"},scribeData:o})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(144),l=s(o),c=i(871),d=s(c);e.default=(0,r.default)(n,d.default)}).call(e,i(10))},1373:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var s=t(e.target),n=!!s.data("personalized");n?this.setPersonalizedTrends():this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.initializeComponents=function(t,e){p.default.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),u.default.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),d.default.attachTo(this.attr.dropdownSelector),g.default.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),w.default.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.showNonpersonalizedView,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o),c=i(1374),d=s(c),h=i(1376),u=s(h),f=i(1377),p=s(f),m=i(1378),g=s(m),v=i(1380),w=s(v),S=i(1375),y=s(S);e.default=(0,r.default)(n,l.default,y.default)}).call(e,i(10))},1374:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={};var i=this.$cities.find("option");i.each(function(i,s){var n=t(s),a=n.data("woeid");e.citiesByRegionWoeid[a]||(e.citiesByRegionWoeid[a]=[]),e.citiesByRegionWoeid[a].push(n)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null;var t=this.$regions.find('option[value=""]');t.prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1375),l=s(o);e.default=(0,r.default)(n,l.default)}).call(e,i(10))},1375:function(t,e){"use strict";function i(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1376:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){return e.item.woeid===-1?void this.trigger("uiTrendsLocationSearchNoResults"):(this.currentSelection=e.item,void this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name}))},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),u.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),d.default.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1375),l=s(o),c=i(414),d=s(c),h=i(429),u=s(h);e.default=(0,r.default)(n,l.default)},1377:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1375),l=s(o);e.default=(0,r.default)(n,l.default)},1378:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1379),l=s(o);e.default=(0,r.default)(n,l.default)},1379:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){r.default.mixin(this,[l.default]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var s=t(i.el),n={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(n),this.showSelected(n.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(121),r=s(a),o=i(1375),l=s(o);e.default=n}).call(e,i(10))},1380:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1379),l=s(o);e.default=(0,r.default)(n,l.default)},1381:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){var s=a({},e,i,{eventData:{scribeContext:{component:"user_recommendations"}}});f.default.attachTo(t,s),o.default.attachTo(t,s),c.default.attachTo(document,s),h.default.attachTo(t,s)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=n;var r=i(1382),o=s(r),l=i(1385),c=s(l),d=i(1386),h=s(d),u=i(1387),f=s(u)},1382:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(e,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=t(e.target).closest(this.attr.recSelector),n=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:n,impressionId:s.attr("data-impression-id"),excluded:[n],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:n}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(e,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var n=this.currentlyRefreshingUser(i),a=t(i.user_recommendations_html),r=a.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+r+"]"))return void n.find(this.attr.dismissRecSelector).click();var o=this.getItemPosition(n);this.animateContentIn(n,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var t={oldUser:s.interactionData(n,{position:o})};a.length&&(t.newUser=s.interactionData(a,{position:o})),s.trigger("uiDidDismissUserRecommendation",t)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(t,e){this.handleEmptyDismissResponse(e)},this.handleEmptyDismissResponse=function(t){var e=this.currentlyRefreshingUser(t);e&&e.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:"You have no more recommendations today!"}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(t,e){this.disabled?this.$node.hide():this.verifyInitialRecommendations(t,e)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),
this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(t,e){this.currentlyExpanding=!0;var i=a({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(t),refreshUserId:e.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(e){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},n=t(e.target);t.each(s,function(t,e){n.is(e)&&i.trigger(document,"uiClickedWtfLink",{element:t})})},this.getNewRecommendations=function(t,e,i){var s=this.attr.wtfOptions.display_location;"wtf-component"===s&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(e,i):t(e,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(t,e,i){this.getNewRecommendations(t,e,i)})})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(123),o=(s(r),i(111)),l=s(o),c=i(874),d=s(c),h=i(871),u=s(h),f=i(1383),p=s(f),m=i(1384),g=s(m);e.default=(0,l.default)(n,d.default,u.default,p.default,g.default)}).call(e,i(10))},1383:function(t,e){"use strict";function i(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var t=this.select("otherServicesSelector"),e=void 0;t.hasClass("hidden")?(t.removeClass("hidden"),e="open"):(t.addClass("hidden"),e="close"),this.trigger("uiWTFImportPromptToggle",{action:e})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1384:function(t,e,i){(function(t){"use strict";function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",similarToContainerSelector:".js-expanded-similar-to",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(t,e){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",n({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:t.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(t,e){this.trigger("uiGetUserRecommendations",n({},this.attr.wtfOptions,t||{}))},this.getUserRecommendations=function(t,e){this.sendGetRecommendationEvent(t,e),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(t){return this.getVisibleIds().indexOf(t)!==-1},this.handleRecommendationsResponse=function(e,i){var s=this,a=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=n({},i,{initialResults:!0}));var r=t.trim(i.user_recommendations_html);if(r){var o=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var l=t(r),c=l.filter(this.attr.recSelector).first(),d=l.filter(this.attr.expandedContainerSelector),h=d.find(".js-actionable-user").filter(function(){return a.indexOf(t(this).data("user-id")+"")===-1});d.empty(),h.each(function(){d.append(this)}),o&&!this.isNewUserDuplicate(c.data("user-id")+"")&&this.animateContentIn(o,"animationCallback",t("<div>").append(c).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),d.length&&this.animateExpansion(d,i)}else{if(this.isNewUserDuplicate(t(r).data("user-id")+""))return;var u=this.select("recListSelector"),f=void 0;o&&(u=o,f="replaceWith"),this.animateContentIn(u,"animationCallback",r,{modOp:f,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(e,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(t,e){this.handleEmptyRefreshResponse(t,e)},this.handleEmptyRefreshResponse=function(t,e){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(e);if(e&&e.sourceEventData&&e.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),n=this.currentlyRefreshingUser(e);n&&(s=n),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(e,i){var s=this.select("recSelector").not(e);return i||(s=s.not(".promoted-account")),s.map(function(){return t(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return t(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(t,e){var i=this;if(!this.disabled&&"following"===e.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var t=i.select("recSelector").filter("[data-user-id='"+e.userId+"']");t.length&&i.cycleRecommendation(t,e)}},s)}},this.isInSimilarToSection=function(t){return!!t.closest(this.attr.similarToContainerSelector).length},this.cycleRecommendation=function(t,e){this.animateContentOut(t,"animationCallback");var i=n({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(t),refreshUserId:e.userId});this.isInSimilarToSection(t)&&(i.similar_to_user_id=this.select("similarToContainerSelector").attr("data-similar-to-user-id")),this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(t,e){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),n=function(){this.pendingScribe&&(this.reportUsersDisplayed(e),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(t.html()):i.append(t),t.is(":visible")?n.bind(this)():t.slideDown("slow",n.bind(this))},this.animateContentIn=function(t,e,i,s){var n=this;if(t.length){s=s||{};var a=function(){t.is(n.attr.recListSelector)&&(n.currentlyRefreshing=!1),t[s.modOp||"html"](i).animate({opacity:1},n.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};t.is(":animated")?this[e]=a:a()}},this.animateContentOut=function(t,e){var i=this;t.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[e]&&i[e](),i[e]=null}})},this.getItemPosition=function(t){var e=this.originalItemCount();return this.isInSimilarToSection(t)?e+t.closest(this.attr.recSelector).index()-1:t.closest(this.attr.expandedContainerSelector).length?e+t.closest(this.attr.recSelector).index():t.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(t){return t&&t.sourceEventData&&t.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+t.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(t){return!!(t&&t.sourceEventData&&t.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var e=this.select("recSelector"),i=[];return e.each(function(e,s){var n=t(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(t){var e=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:e}),this.trigger("uiDidGetRecommendations",t)},this.verifyInitialRecommendations=function(t,e){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(t,e){e.html&&(this.selfPromotedAccountHtml=e.html)},this.replaceUser=function(t,e){t.tooltip("hide"),t.parent().hasClass("preview-wrapper")&&t.unwrap(),t.replaceWith(e)},this.replaceUserAnimation=function(e,i){e.tooltip("hide"),this.before("teardown",function(){this.replaceUser(e,i)});var s=t("<div/>",{"class":e.attr("class"),style:e.attr("style")}).addClass("preview-wrapper");e.wrap(s);var n=e.css("minHeight");e.css({minHeight:0}).slideUp(70,function(){i.attr("style",e.attr("style")),e.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:n}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var e=t(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,e),e.find("a").on("click",function(t){t.preventDefault(),t.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var t=this.attr.$accountPriorToPreview;t&&(this.replaceUser(this.select("recSelector").first(),t),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};i(446),e.default=s}).call(e,i(10))},1385:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(t){return this.hitEndpoint(t,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(t,e){var i=this;e=e||{};var s=this.attr.endpoints[t],n=this.attr.endpointUrlOverrides[t]||s.url;return function(t,r){r=r||{},r.excluded=r.excluded||[];var o=r.visible||[];delete r.visible,i.JSONRequest({type:s.method,url:n,headers:e,dataType:"json",data:a({},r,{excluded:i.storage.pushAll("excluded",r.excluded).concat(o).join(",")}),eventData:r,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(t,e){this.storage.pushAll("excluded",e.userIds),this.trigger("dataDidExcludeUserRecommendations",e)},this.excludeFollowed=function(t,e){e=e||{},"following"===e.newState&&e.userId&&this.storage.push("excluded",e.userId)},this.after("initialize",function(){var t=(0,c.default)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new t("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),o=s(r),l=i(247),c=s(l),d=i(244),h=s(d),u=(0,o.default)(n,h.default);e.default=u},1386:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(t,e){this.scribeInteraction("dismiss",e.oldUser),e.newUser&&this.scribeInteraction({element:"replace",action:"results"},e.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(e,i){var s=this,n=[];e.emptyResponse||this.$node.find(this.attr.userSelector).map(function(e,i){return n.push(s.interactionData(t(i),{position:e}))});var a=e.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:a},n,e,{referring_event:i})},this.scribeRecommendations=function(t,e){var i=e.sourceEventData||{},s=e.initialResults||i.initialResults;s?(this.scribeRecommendationResults(e,"initial"),e.emptyResponse||this.scribeRecommendationImpression(e)):(this.scribe({action:"refresh"},e,{event_info:i.refreshType}),this.scribeRecommendationResults(e,"newer"))},this.scribeEmptyRecommendationsResponse=function(t,e){this.scribeRecommendations(t,a({},e,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(t){this.scribe("impression",t)},this.scribeLinkClicks=function(t,e){this.scribe({component:"user_recommendations",element:e.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),o=s(r),l=i(138),c=s(l),d=i(141),h=s(d);e.default=(0,o.default)(n,c.default,h.default)}).call(e,i(10))},1387:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeImpression=function(t,e){this.scribe(a({},e.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(t,e){this.scribe(a({},e.scribeContext,{element:"wtf_import_prompt",action:e.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(111),o=s(r),l=i(142),c=s(l);e.default=(0,o.default)(n,c.default)},1398:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(111),a=s(n),r=i(876),o=s(r);e.default=(0,a.default)(o.default)},1426:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=d.default.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),n=this.$node.find(this.attr.promotedTweetForImpressionsSelector),a=s.filter(function(s,n){return d.default.isContainedInViewport(e.$window,t(n),i,0)}),r=n.filter(function(s,n){return d.default.isPartiallyContainedInViewport({$container:e.$window,$element:t(n),topThreshold:i,fractionInViewport:0})});if(r.length){r.addClass("presented");var o=r.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:o})}if(a.length){a.addClass("scribed");var l=a.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:l})}},this.after("initialize",function(e,i){this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",l.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(126),l=s(o),c=i(177),d=s(c);e.default=(0,r.default)(n)}).call(e,i(10))},1428:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({scribeMediaGridResults:!1,mediaGalleryScribeComponent:"media_gallery",keepUnrenderedMediaItems:!1,numMediaItemsToKeep:30,gridNumRowsLimit:2,gridRowHeight:180,gridMargin:1.5,gridRowRatio:2.5,gridPanoramaRatio:3,gridContainerSelector:"#stream-items-id",mediaSelector:".AdaptiveStreamGridImage",mediaOverlaySelector:".media-overlay",requiredAttrsForGallery:["data-resolved-url-large","data-source-url","data-tweet-id","data-status-id","data-height","data-width","class"]}),this.renderAll=function(){clearTimeout(this.renderDelay),this.renderDelay=setTimeout(this.render.bind(this),20)},this.render=function(){this.currentRow=this.getCurrentRow();var t=this.getUnprocessedMedia();if(!t.length)return void this.scribeResults();for(var e=0,i=0,s=[],n=0;n<t.length;n++){if(this.attr.gridNumRowsLimit&&this.currentRow>this.attr.gridNumRowsLimit){if(this.attr.keepUnrenderedMediaItems&&n<this.attr.numMediaItemsToKeep){this.processHiddenMedia(t.eq(n));continue}t.slice(n).remove();break}var a=t.eq(n);!e&&(e=parseInt(a.attr("data-height")));var r=this.scaleGridMedia(a,e);isNaN(r)?a.remove():(i+=r,s.push(a),i/e>=this.attr.gridRowRatio&&(this.renderGridRow(s,i,e),this.currentRow++,this.setCurrentRow(),i=0,e=0,s=[]))}this.renderLastRow(),this.scribeResults()},this.getCurrentRow=function(){var t=parseInt(this.$node.attr("data-processed-rows"));return t?this.currentRow=t:this.currentRow=1,this.currentRow},this.setCurrentRow=function(){this.$node.attr("data-processed-rows",this.currentRow)},this.processHiddenMedia=function(e){var i=this.attr.requiredAttrsForGallery,s=[];t.each(e[0].attributes,function(){this.specified&&i.indexOf(this.name)<0&&s.push(this.name)}),s.forEach(function(t){return e.removeAttr(t)}),e.attr("data-grid-processed","true"),e.hide(),e.empty()},this.scaleGridMedia=function(t,e,i){var s=parseInt(t.attr("data-height")),n=parseInt(t.attr("data-width")),a=e/s*n,r=s/n;return n/s>this.attr.gridPanoramaRatio&&(t.attr("data-pano","true"),a=e*this.attr.gridPanoramaRatio,r=1/this.attr.gridPanoramaRatio),t.attr({"scaled-width":a,"height-width-ratio":r}),i&&(t.height(e),t.width(a)),a},this.renderGridRow=function(e,i,s){var n=this,a=this.currentGridWidth-e.length*this.attr.gridMargin,r=a/i,o=s*r;t.each(e,function(e,i){var s=t(i),a=parseInt(s.attr("scaled-width"))*r,l=a/n.currentGridWidth;s.height(o),s.width(Math.round(a)),s.attr("scaled-width-ratio",l),s.attr("data-grid-processed","true"),s.addClass("enabled"),0===e&&s.addClass("clear"),1===n.currentRow&&s.addClass("first-row"),s.removeAttr("scaled-width"),n.renderMediaImage(s)})},this.renderLastRow=function(){var e=this,i=this.getUnprocessedMedia();i.length&&i.each(function(i,s){var n=t(s);e.scaleGridMedia(n,e.attr.gridRowHeight,!0),e.renderMediaImage(n),n.addClass("enabled")})},this.renderMediaImage=function(t){var e=this;if(!t.attr("data-loaded")){var i=function(i){return e.loadMediaSuccess(t,i)},s=function(){return e.loadMediaFail(t)};l.default.load(t.attr("data-resolved-url-small"),i,s)}},this.loadMediaSuccess=function(t,e){if(t.attr("data-pano")){var i=Math.round(t.height()/parseInt(t.attr("data-height"))*parseInt(t.attr("data-width")));e.width(i),e.css("margin-left",(t.width()-i)/2)}t.hide().prepend(e).fadeIn(),t.attr("data-loaded",!0)},this.loadMediaFail=function(t){this.markFailedMedia(t),t.remove()},this.markFailedMedia=function(t){var e=void 0;if(t.hasClass("clear")){if(e=t.next(this.attr.mediaSelector),!e.length)return}else for(e=t.prev(this.attr.mediaSelector);e.length&&!e.hasClass("clear");)e=e.prev(this.attr.mediaSelector);e.attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).removeClass("clear"),clearTimeout(this.resetTimer),this.resetTimer=setTimeout(this.render.bind(this),50)},this.possiblyResizeMediaDimensions=function(){var t=this.currentGridWidth,e=this.getGridWidth(),i=this.getProcessedMedia();if(e===t||!i.length)return void this.trigger("uiMediaGridDidNotResize");for(var s=0;s<i.length;s++){var n=i.eq(s),a=parseFloat(n.attr("scaled-width-ratio")),r=parseFloat(n.attr("height-width-ratio"));if(!isNaN(a)&&!isNaN(r)){var o=a*e,l=r*o;if(n.attr("data-pano")){var c=n.find("img"),d=c.width()/t*e;c.width(Math.round(d)),c.css("margin-left",(o-d)/2)}n.width(Math.floor(o)),n.height(Math.floor(l))}}this.trigger("uiMediaGridDidResize"),this.currentGridWidth=e},this.getGridWidth=function(){var t=this.select("gridContainerSelector").length&&this.select("gridContainerSelector")[0];return Math.floor(t.getBoundingClientRect().width)},this.getMedia=function(){return this.select("mediaSelector")},this.getProcessedMedia=function(){return this.getMedia().filter('[data-grid-processed="true"]')},this.getUnprocessedMedia=function(){return this.getMedia().filter(':not([data-grid-processed="true"])')},this.getUnscribedMedia=function(){return this.getMedia().filter(':not([data-scribed="true"])[data-grid-processed="true"]')},this.openGallery=function(e){e.preventDefault(),e.stopPropagation();var i=t(e.target).closest(this.attr.mediaSelector),s=i.hasClass("video");this.trigger(e.target,"uiOpenGallery");var n=i.attr("data-url"),a=s?"video":"photo",r={url:n,mediaType:a,scribeContext:{component:this.attr.mediaGalleryScribeComponent}};this.trigger("uiMediaThumbnailClick",r)},this.scribeResults=function(){if(this.attr.scribeMediaGridResults){var e=this.getUnscribedMedia(),i={thumbnails:[],scribeContext:{component:this.attr.mediaGalleryScribeComponent}};t.each(e,function(e,s){i.thumbnails.push(t(s).attr("data-url")),t(s).attr("data-scribed",!0)}),this.trigger("uiMediaGalleryResults",i)}},this.after("initialize",function(){this.select("gridContainerSelector").length&&(this.possiblyResizeMediaDimensions(),this.currentGridWidth=this.getGridWidth(),this.render(),this.on("uiHasInjectedOldTimelineItems",this.renderAll),this.on("click",{mediaOverlaySelector:this.openGallery}),this.on(window,"resize",r.default.throttle(this.possiblyResizeMediaDimensions.bind(this),100)))})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(126),r=s(a),o=i(906),l=s(o);e.default=n}).call(e,i(10))},1449:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){(0,r.default)({endpoint:t.timeline_url});var e=d.default.mixin(u.default,D.default,p.default,g.default,w.default,y.default,T.default);l.default.attachTo(document,t),e.attachTo(".GridTimeline",t,{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items",streamUserSelector:".GridTimeline-items .js-actionable-user",disableProfilePopup:null==t.disableProfilePopup||t.disableProfilePopup,selectedClass:"is-selected",selectedSelector:".js-stream-item.is-selected",firstItemSelector:".js-stream-item:first-child",profileCardSelector:".ProfileCard",itemType:"user",eventData:{scribeContext:{component:"user"}}})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1114),r=s(a),o=i(1135),l=s(o),c=i(1157),d=s(c),h=i(1164),u=s(h),f=i(871),p=s(f),m=i(874),g=s(m),v=i(1202),w=s(v),S=i(1203),y=s(S),b=i(1450),T=s(b),C=i(1173),D=s(C);e.default=n},1450:function(t,e){"use strict";function i(){this.defaultAttrs({navigationContainerSelector:".GridTimeline-items > .Grid, .GridTimeline-items > .ScrollBump",navigationContainerCellSelector:".Grid-cell"}),this.around("next",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).next().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).next().find(this.attr.genericItemSelector).first()),i}),this.around("prev",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).prev().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).prev().find(this.attr.genericItemSelector).last()),i})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1469:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){(0,r.default)(t),l.default.attachTo(".advanced-search",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(161),r=s(a),o=i(1774),l=s(o)},1470:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){(0,l.default)(t),w.default.attachTo(".AdaptiveStreamUserGallery",(0,r.default)(t,t.scribeComponent.userGallery)),d.default.attachTo(document),p.default.attachTo(".AdaptiveRelatedSearches",(0,r.default)(t,t.scribeComponent.relatedSearches)),u.default.attachTo(document),g.default.attachTo(".AdaptiveSpellingSuggestion",(0,r.default)(t,t.scribeComponent.spellingSuggestion))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(1471),r=s(a),o=i(1472),l=s(o),c=i(1487),d=s(c),h=i(1488),u=s(h),f=i(1489),p=s(f),m=i(1490),g=s(m),v=i(945),w=s(v)},1471:function(t,e){"use strict";function i(t,e){return s({},t,{eventData:{scribeContext:{component:e}}})}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=i},1472:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){var e="#timeline";(0,h.default)(t),(0,f.default)(t),C.default.scribeData.search_details=t.searchDetails,(0,v.default)(t),(0,b.default)(".js-wtf-module",t,{wtfOptions:t.wtfOptions}),B.default.attachTo(document,{containerSelector:e}),$.default.attachTo(document),Y.default.attachTo(e,{eventData:t.eventData}),F.default.attachTo(e,{page:"search"}),k.default.attachTo(document,t),t.isUserGridTimeline?(0,S.default)(a({},t,{disableProfilePopup:!1,showWithIdSelector:".ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink, .js-user-profile-link",timeline_url:t.searchEndpoint})):t.isMediaGridTimeline?(0,m.default)(a({},t,{itemsSelector:"#stream-items-id",tweetWithReplyDialogSelector:".grid-tweet",gridNumRowsLimit:null,mediaGalleryScribeComponent:"tweet"}),t.searchEndpoint,"tweet"):(0,c.default)(t),X.default.attachTo("#search-settings-dialog"),O.default.attachTo(document),R.default.attachTo(document),H.default.attachTo(".AdaptiveFiltersBar-target",(0,o.default)(t,"search_filter")),K.default.attachTo(".SearchFollowButton",t),M.default.attachTo(document),z.default.attachTo(".SearchExtrasDropdown"),L.default.attachTo(".SearchExtrasDropdown-savedSearch",t),H.default.attachTo(".SearchExtrasDropdown-target",(0,o.default)(t,"search_dropdown")),U.default.attachTo(document),tt.default.attachTo(".SidebarFilterModule",(0,o.default)(t,t.scribeComponent.sidebarFilterModule)),H.default.attachTo(".SidebarFilterModule-advanced",(0,o.default)(t,t.scribeComponent.sidebarFilterModule)),it.default.setGlobalNavSelector(".SearchNavigation")}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=n;var r=i(1471),o=s(r),l=i(1473),c=s(l),d=i(161),h=s(d),u=i(199),f=s(u),p=i(1476),m=s(p),g=i(1367),v=s(g),w=i(1449),S=s(w),y=i(1381),b=s(y),T=i(134),C=s(T),D=i(1184),k=s(D),I=i(1478),M=s(I),P=i(1479),O=s(P),A=i(1480),R=s(A),j=i(1481),U=s(j),x=i(1285),F=s(x),E=i(1482),L=s(E),N=i(1398),z=s(N),G=i(822),B=s(G),V=i(939),$=s(V),W=i(945),H=s(W),q=i(1284),Y=s(q),Q=i(1483),K=s(Q),J=i(1484),X=s(J),Z=i(1486),tt=s(Z),et=i(178),it=s(et)},1473:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){var e=a({},t,{endpoint:t.searchEndpoint});(0,o.default)(e),(0,c.default)("#timeline",a({},e,{excludeUserActions:!0,scrollTopOnNewItemsClick:!1}));var i=[v.default,S.default];m.default.attachTo(document),f.default.mixin.apply(this,i).attachTo("#timeline",e,{tweetItemSelector:".tweet, .grid-tweet"}),C.default.mixin(v.default).attachTo("#timeline",e);var s=".show-popup-with-id, .js-user-profile-link",n=".ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink";h.default.mixin(b.default).attachTo("#timeline",e,{showWithIdSelector:s+", "+n,tweetWithReplyDialogSelector:".grid-tweet",itemType:"tweet",eventData:{scribeContext:{component:"tweet"}}}),k.default.attachTo("#timeline",e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(1114),o=s(r),l=i(1117),c=s(l),d=i(1474),h=s(d),u=i(1318),f=s(u),p=i(1277),m=s(p),g=i(1475),v=s(g),w=i(1307),S=s(w),y=i(1305),b=s(y),T=i(935),C=s(T),D=i(1426),k=s(D);e.default=n},1474:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({separationModuleSelector:".AdaptiveSearchTimeline-separationModule",prevToModuleClass:"AdaptiveSearchTimeline-beforeModule"}),this.setPrevToModuleClass=function(){this.select("separationModuleSelector").prev().addClass(this.attr.prevToModuleClass)},this.initialItemsDisplayed=function(){for(var e=this,i=this.select("genericItemSelector"),s=[],n=function(i,n){if(t(n).data("item-type")){var a=t(n),r=e.findFirstItemContent(a);!r.length&&a.is(e.attr.streamItemContentsSelector)&&(r=a);var o=e.interactionData(r);switch(o.itemType){case"user":s.push(o)}}},a=0,r=i.length;a<r;a++)n(a,i[a]);this.reportUsers(s)},this.reportItemsDisplayed=function(t,e){var i=[];e.items.forEach(function(t){switch(t.itemType){case"user":i.push(t)}}),this.reportUsers(i)},this.reportUsers=function(t){this.trigger("uiUsersDisplayed",{users:t})},this.after("initialize",function(){this.setPrevToModuleClass(),this.initialItemsDisplayed(),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.reportItemsDisplayed),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.setPrevToModuleClass)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1156),r=s(a),o=i(1173),l=s(o),c=i(1428),d=s(c),h=i(874),u=s(h),f=i(138),p=s(f),m=i(1475),g=s(m);
e.default=r.default.mixin(n,l.default,d.default,u.default,p.default,g.default)}).call(e,i(10))},1475:function(t,e){"use strict";function i(){this.defaultAttrs({userGallerySelector:".AdaptiveStreamUserGallery",userGalleryItemSelector:".AdaptiveStreamUserGallery-user"}),this.getItemPosition=function(t){var e=t.closest(this.attr.userGalleryItemSelector);if(!(e.length>0))return-1;var i=e.closest(this.attr.userGallerySelector),s=i.find(this.attr.userGalleryItemSelector),n=s.index(e);return n!==-1?n:void 0}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},1476:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){var s=a({},t,{endpoint:e,itemType:i,eventData:{scribeContext:{component:i}}});(0,c.default)("#timeline",s),(0,o.default)(s),f.default.attachTo("#timeline",s,{tweetItemSelector:".grid-tweet"}),h.default.attachTo("#timeline",s)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(1114),o=s(r),l=i(1117),c=s(l),d=i(1477),h=s(d),u=i(1318),f=s(u);e.default=n},1477:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({itemType:"media"}),this.after("initialize",function(){this.attr.allowInfiniteScroll||this.hideMoreSpinner()})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1157),r=s(a),o=i(1164),l=s(o),c=i(1428),d=s(c),h=i(1173),u=s(h),f=i(871),p=s(f);e.default=r.default.mixin(n,u.default,l.default,p.default,d.default)},1478:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.getFollowButtonState=function(t,e){function i(t){var e=void 0;try{e=t.timeline.instructions[0].addEntries.entries.length>0}catch(i){e=!1}this.trigger("dataSearchFollowStateGetSuccess",{isFollowing:e})}this.get({url:"https://api.twitter.com/2/follow_search/show.json",data:e,useOAuthSessionAuth:!0,success:i.bind(this),retryIfUnavailable:!0})},this.postFollowSearchQuery=function(t,e){function i(){this.trigger("dataUpdateFollowSearchButtonState",{isFollowing:!0})}function s(){this.trigger("dataUpdateFollowSearchButtonState",{isFollowing:!1})}this.post({url:"https://api.twitter.com/2/follow_search/create.json",data:e,useOAuthSessionAuth:!0,success:i.bind(this),error:s.bind(this)})},this.postUnfollowSearchQuery=function(t,e){function i(){this.trigger("dataUpdateFollowSearchButtonState",{isFollowing:!1})}function s(){this.trigger("dataUpdateFollowSearchButtonState",{isFollowing:!0})}this.post({url:"https://api.twitter.com/2/follow_search/destroy.json",acceptEmptyStringAsJsonResponse:!0,data:e,useOAuthSessionAuth:!0,success:i.bind(this),error:s.bind(this)})},this.after("initialize",function(){this.on("uiSearchFollowStateGet",this.getFollowButtonState),this.on("uiSearchFollowQuery",this.postFollowSearchQuery),this.on("uiSearchUnfollowQuery",this.postUnfollowSearchQuery)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(244),l=s(o);e.default=(0,r.default)(n,l.default)},1479:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.getSettings=function(t,e){this.get({url:this.getUrl(),success:"dataSearchSettingsGetSuccess",error:"dataSearchSettingsGetError",useOAuthSessionAuth:!0})},this.saveSettings=function(t,e){this.post({acceptEmptyStringAsJsonResponse:!0,url:this.saveUrl(),data:e,dataType:this.DATA_TYPES.TEXT,success:"dataSearchSettingsSaveSuccess",error:"dataSearchSettingsSaveError",useOAuthSessionAuth:!0,contentType:this.CONTENT_TYPES.APPLICATION_JSON})},this.getUserId=function(){return d.default.user.id},this.getUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafetyReadonly"},this.saveUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafety"},this.after("initialize",function(){this.on("uiSearchSettingsGet",this.getSettings),this.on("uiSearchSettingsSave",this.saveSettings)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(244),l=s(o),c=i(136),d=s(c);e.default=(0,r.default)(n,l.default)},1480:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeImpression=function(t,e){this.scribe({component:"safe_search_settings",action:"impression"})},this.scribeSettingsSave=function(t,e){this.scribe({component:"safe_search_settings",element:"filtering",action:e.optInFiltering?"on":"off"}),this.scribe({component:"safe_search_settings",element:"blocking",action:e.optInBlocking?"on":"off"})},this.after("initialize",function(){this.on("uiSearchSettingsDialogOpen",this.scribeImpression),this.on("uiSearchSettingsSave",this.scribeSettingsSave)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1481:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeSidebarFilterClicked=function(t,e){this.scribe("navigate",e,{url:e.url})},this.scribeSidebarModuleCollapseClicked=function(t,e){this.scribe("collapse",e)},this.scribeSidebarModuleExpandClicked=function(t,e){this.scribe("expand",e)},this.after("initialize",function(){this.on("uiSearchSidebarFilterClicked",this.scribeSidebarFilterClicked),this.on("uiSearchSidebarModuleCollapsed",this.scribeSidebarModuleCollapseClicked),this.on("uiSearchSidebarModuleExpanded",this.scribeSidebarModuleExpandClicked)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1482:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({saveOrRemoveSelector:".js-toggle-saved-search-link",addSavedSearchSelector:".js-add-search",removeSavedSearchSelector:".js-remove-search",textLabelSelector:".SearchExtrasDropdown-label",addSavedSearchClass:"js-add-search",removeSavedSearchClass:"js-remove-search",dataIdAttr:"data-id",dataOriginalTitleAttr:"data-original-title",query:""}),this.addSavedSearch=function(t,e){t.preventDefault(),this.trigger("uiAddSavedSearch",{query:this.attr.query,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.removeSavedSearch=function(t,e){t.preventDefault(),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),this.trigger("uiRemoveSavedSearch",{id:this.savedSearchId,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.savedSearchAdded=function(t,e){this.trigger("uiShowMessage",{message:"Saved search added successfully."}),this.select("saveOrRemoveSelector").removeClass(this.attr.addSavedSearchClass).addClass(this.attr.removeSavedSearchClass).attr(this.attr.dataIdAttr,e.id_str).attr(this.attr.dataOriginalTitleAttr,"Remove this saved search"),this.select("textLabelSelector").text("Remove this saved search")},this.savedSearchRemoved=function(t,e){this.trigger("uiShowMessage",{message:"Saved search removed successfully."}),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),e.id_str===this.savedSearchId&&(this.select("saveOrRemoveSelector").removeClass(this.attr.removeSavedSearchClass).addClass(this.attr.addSavedSearchClass).attr(this.attr.dataOriginalTitleAttr,"Save this search").removeAttr(this.attr.dataIdAttr),this.select("textLabelSelector").text("Save this search"))},this.after("initialize",function(){this.on("click",{addSavedSearchSelector:this.addSavedSearch,removeSavedSearchSelector:this.removeSavedSearch}),this.on(document,"dataAddedSavedSearch",this.savedSearchAdded),this.on(document,"dataRemovedSavedSearch",this.savedSearchRemoved)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(123);s(o);e.default=(0,r.default)(n)},1483:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.attributes({query:"",followButtonSelector:".SearchFollowButton .follow-text",unfollowButtonSelector:".SearchFollowButton .unfollow-text"}),this.getFollowButtonState=function(t,e){this.trigger("uiSearchFollowStateGet",{query:this.attr.query})},this.showFollowButton=function(t,e){this.updateFollowButtonState(e.isFollowing),this.$node.removeClass("u-hidden")},this.followSearch=function(){this.updateFollowButtonState(!0),this.trigger("uiSearchFollowQuery",{query:this.attr.query})},this.unfollowSearch=function(){this.updateFollowButtonState(!1),this.trigger("uiSearchUnfollowQuery",{query:this.attr.query})},this.updateFollowButtonStateWithData=function(t,e){this.updateFollowButtonState(e.isFollowing)},this.updateFollowButtonState=function(t){this.$node.toggleClass("following",!!t),this.$node.toggleClass("not-following",!t)},this.after("initialize",function(){this.on("click",{followButtonSelector:this.followSearch,unfollowButtonSelector:this.unfollowSearch}),this.on(document,"uiSwiftLoaded uiPageChanged",this.getFollowButtonState),this.on(document,"dataSearchFollowStateGetSuccess",this.showFollowButton),this.on(document,"dataUpdateFollowSearchButtonState",this.updateFollowButtonStateWithData)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a);e.default=(0,r.default)(n)},1484:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({triggerSelector:".js-openSearchSettings",confirmSelector:".js-confirm",cancelSelector:".js-close",settingsDropdownSubtextSelector:".SearchExtrasDropdown-settings .SearchExtrasDropdown-subtext"}),this.before("openWhenTriggerClicked",function(t,e){this.trigger(document,"uiSearchSettingsDialogOpen")}),this.setupDialog=function(t,e){this.state={optInFiltering:e.optInFiltering,optInBlocking:e.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.updateDropdownSubtext()},this.updateDropdownSubtext=function(t,e){var i="";this.state=e,this.state.optInFiltering&&this.state.optInBlocking?i=p.BOTH_ENABLED:!this.state.optInFiltering&&this.state.optInBlocking?i=p.FILTERING_DISABLED:this.state.optInFiltering&&!this.state.optInBlocking?i=p.BLOCKING_DISABLED:this.state.optInFiltering||this.state.optInBlocking||(i=p.BOTH_DISABLED),this.dom.$settingsDropdownSubtext.text(i)},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onConfirm=function(t,e){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering===i&&this.state.optInBlocking===s||this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}),this.close()},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onSaveSuccess=function(){this.trigger("uiShowMessage",{message:"Search settings updating..."}),setTimeout(this.refreshPage,1e3)},this.refreshPage=function(){document.location.reload(!0)},this.onSaveError=function(){this.trigger("uiShowError",{message:"Something went wrong. Give it a minute, then try again."})},this.after("initialize",function(){this.attachChild(f.default,this.$node),this.state={optInFiltering:null,optInBlocking:null},this.dom={$settingsDropdownSubtext:t(this.attr.settingsDropdownSubtextSelector)},this.on(document,"dataSearchSettingsSaveSuccess",this.onSaveSuccess),this.on(document,"dataSearchSettingsSaveError",this.onSaveError),this.on("uiSafeSearchSettingsDisplayed",this.updateDropdownSubtext),this.on("uiSearchSettingsSave",this.close),this.on("click",{confirmSelector:"uiSafeSearchSettingWantsSave",cancelSelector:"uiSafeSearchSettingsCancel"})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o),c=i(123),d=(s(c),i(231)),h=s(d),u=i(1485),f=s(u);e.default=(0,r.default)(l.default,h.default,n);var p={BOTH_ENABLED:"Hiding sensitive content",FILTERING_DISABLED:"Safe search off",BLOCKING_DISABLED:"Blocked and muted accounts included",BOTH_DISABLED:"Showing sensitive content"}}).call(e,i(10))},1485:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({filteringCheckboxSelector:".SearchSettings-toggleInput--sensitive",blockingCheckboxSelector:".SearchSettings-toggleInput--accounts"}),this.toggleSettings=function(t,e){this.state={optInFiltering:e.optInFiltering,optInBlocking:e.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.trigger("uiSafeSearchSettingsDisplayed",this.state)},this.onSave=function(t,e){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering!==i||this.state.optInBlocking!==s?this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}):this.trigger(document,"uiSearchSettingsNoChange")},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.after("initialize",function(){this.dom={$filteringCheckbox:this.select("filteringCheckboxSelector"),$blockingCheckbox:this.select("blockingCheckboxSelector")},this.state={optInFiltering:null,optInBlocking:null},this.on(document,"uiSafeSearchSettingsCancel",this.onCancel),this.on(document,"uiSafeSearchSettingWantsSave",this.onSave),this.on(document,"uiSwiftLoaded uiPageChanged","uiSearchSettingsGet"),this.on(document,"dataSearchSettingsGetSuccess",this.toggleSettings)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=(0,r.default)(n);e.default=o},1486:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({collapseToggleSelector:".SidebarFilterModule-toggle",filterSelectSelector:".SidebarFilterModule-select"}),this.onChangeFilter=function(e){var i=t(e.target);this.trigger("uiNavigate",{href:i.val()}),this.trigger("uiSearchSidebarFilterClicked",{scribeContext:{element:i.find("option:selected").attr("data-nav")},url:i.val()})},this.onToggleClick=function(e){var i=t(e.target);this.$node.hasClass("is-collapsed")?(i.text("Hide"),this.$node.removeClass("is-collapsed"),this.trigger("uiSearchSidebarModuleExpanded")):(i.text("Show"),this.$node.addClass("is-collapsed"),this.trigger("uiSearchSidebarModuleCollapsed")),i.blur()},this.after("initialize",function(){this.on("change",{filterSelectSelector:this.onChangeFilter}),this.on("click",{collapseToggleSelector:this.onToggleClick})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(123);s(o);e.default=(0,r.default)(n)}).call(e,i(10))},1487:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeRelatedSearchClicked=function(t,e){this.scribe("search",e)},this.after("initialize",function(){this.on("uiRelatedSearchClicked",this.scribeRelatedSearchClicked)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1488:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeOriginalQueryClicked=function(t,e){this.scribe({element:"spelling_revert",action:"search"},e)},this.scribeCorrectedQueryClicked=function(t,e){this.scribe({element:"corrected_query",action:"search"},e)},this.after("initialize",function(){this.on("uiSpellingSuggestionOriginalQueryClicked",this.scribeOriginalQueryClicked),this.on("uiSpellingSuggestionCorrectedQueryClicked",this.scribeCorrectedQueryClicked)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1489:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({relatedSearchSelector:".AdaptiveRelatedSearches-item"}),this.onClickRelatedSearch=function(){this.trigger("uiRelatedSearchClicked")},this.after("initialize",function(){this.on("click",{relatedSearchSelector:this.onClickRelatedSearch})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a);e.default=(0,r.default)(n)},1490:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({originalQuerySelector:".AdaptiveSpellingSuggestion-originalQuery",correctedQuerySelector:".AdaptiveSpellingSuggestion-correctedQuery"}),this.onClickOriginalQuery=function(){this.trigger("uiSpellingSuggestionOriginalQueryClicked")},this.onClickCorrectedQuery=function(){this.trigger("uiSpellingSuggestionCorrectedQueryClicked")},this.after("initialize",function(){this.on("click",{originalQuerySelector:this.onClickOriginalQuery,correctedQuerySelector:this.onClickCorrectedQuery})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a);e.default=(0,r.default)(n)},1491:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(e){(0,o.default)(e),(0,c.default)(a({},e,{src:"search-home",show_context:!1})),h.default.attachTo("#search-home-form",a({},e,{magnifyingGlassSelector:".search-btn",inputFieldSelector:"#search-home-input",eventData:{scribeContext:{component:"search_home_searchbox",element:""}}})),v.default.attachTo("#search-home-form",{noTeardown:!0}),m.default.attachTo("#search-home-form",{inputSelector:"#search-home-input"}),f.default.attachTo("#search-home-form",{inputSelector:"#search-home-input",nextElementSelector:".search-btn",accountsShortcutShow:!0,autocompleteAccounts:!1,parseHashflags:!0,typeaheadSrc:"SEARCH_BOX",datasourceRenders:[["recentSearches",["recentSearches"]],["savedSearches",["savedSearches"]],["topics",["topics"]],["accounts",["accounts"]]],deciders:a({},e.typeaheadData,{showSocialContext:e.typeaheadData.showSearchAccountSocialContext}),eventData:{scribeContext:{component:"search_home_searchbox",element:"typeahead"}}}),S.default.attachTo("#search-operators-dialog"),t("#search-home-input").focus()}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=n;var r=i(161),o=s(r),l=i(1367),c=s(l),d=i(1492),h=s(d),u=i(414),f=s(u),p=i(429),m=s(p),g=i(1493),v=s(g),w=i(1494),S=s(w)}).call(e,i(10))},1494:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({searchOperatorsLinkSelector:".search-operators-link"}),this.after("initialize",function(){this.on(document,"click",{searchOperatorsLinkSelector:this.open})})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(163),l=s(o);e.default=(0,r.default)(n,l.default)},1495:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){(0,l.default)(t),d.default.attachTo(document),g.default.attachTo(".AdaptiveNewsLargeImageHeadline",(0,r.default)(t,t.scribeComponent.newsGalleryLarge),{descriptionSelector:".AdaptiveNewsLargeImageHeadline-description",imageSelector:".AdaptiveNewsLargeImageHeadline-image",titleSelector:".AdaptiveNewsLargeImageHeadline-title"}),T.default.attachTo(".AdaptiveNewsLargeImageHeadline",(0,r.default)(t,t.scribeComponent.newsGalleryLarge)),g.default.attachTo(".AdaptiveNewsSmallImageHeadline",(0,r.default)(t,t.scribeComponent.newsGallerySmall),{descriptionSelector:".AdaptiveNewsSmallImageHeadline-description",imageSelector:".AdaptiveNewsSmallImageHeadline-image",titleSelector:".AdaptiveNewsSmallImageHeadline-title"}),T.default.attachTo(".AdaptiveNewsSmallImageHeadline",(0,r.default)(t,t.scribeComponent.newsGallerySmall)),g.default.attachTo(".AdaptiveNewsTextHeadline",(0,r.default)(t,t.scribeComponent.newsGalleryText),{descriptionSelector:".AdaptiveNewsTextHeadline-description",titleSelector:".AdaptiveNewsTextHeadline-title"}),T.default.attachTo(".AdaptiveNewsTextHeadline",(0,r.default)(t,t.scribeComponent.newsGalleryText)),g.default.attachTo(".AdaptiveNewsRelatedHeadlines",(0,r.default)(t,t.scribeComponent.relatedHeadlines),{descriptionSelector:".AdaptiveNewsRelatedHeadlines-description",titleSelector:".AdaptiveNewsRelatedHeadlines-title"}),T.default.attachTo(".AdaptiveNewsRelatedHeadlines",(0,r.default)(t,t.scribeComponent.relatedHeadlines)),T.default.attachTo(".AdaptiveStreamUserGallery",(0,r.default)(t,t.scribeComponent.userGallery)),u.default.attachTo(document),w.default.attachTo(".AdaptiveRelatedSearches",(0,r.default)(t,t.scribeComponent.relatedSearches)),p.default.attachTo(document),y.default.attachTo(".AdaptiveSpellingSuggestion",(0,r.default)(t,t.scribeComponent.spellingSuggestion))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(1471),r=s(a),o=i(1472),l=s(o),c=i(1496),d=s(c),h=i(1487),u=s(h),f=i(1488),p=s(f),m=i(1497),g=s(m),v=i(1489),w=s(v),S=i(1490),y=s(S),b=i(945),T=s(b)},1496:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeHeadlineImpression=function(t,e){this.scribe("impression",e)},this.scribeOpenLink=function(t,e){this.scribe("open_link",e)},this.after("initialize",function(){this.on("uiAdaptiveNewsHeadlineLoaded",this.scribeHeadlineImpression),this.on("uiAdaptiveNewsHeadlineLinkOpened",this.scribeOpenLink)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1497:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({descriptionSelector:null,imageSelector:null,titleSelector:null,userSelector:".AdaptiveNewsHeadlineDetails-user"}),this.onClickLink=function(t){this.trigger("uiAdaptiveNewsHeadlineLinkOpened",{scribeContext:{element:t}})},this.after("initialize",function(_,t){c.attachTo(this.select("userSelector"),t,{itemType:"user",showWithIdSelector:this.attr.userSelector}),this.on("click",{descriptionSelector:this.onClickLink.bind(this,"description"),imageSelector:this.onClickLink.bind(this,"image"),titleSelector:this.onClickLink.bind(this,"title")}),this.trigger("uiAdaptiveNewsHeadlineLoaded")})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(871),l=s(o);e.default=(0,r.default)(n);var c=(0,r.default)(l.default)},1498:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){(0,l.default)(t),d.default.attachTo(document),u.default.attachTo(".AdaptiveGeoPlace--yelp",(0,r.default)(t,t.scribeComponent.placeYelp),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),p.default.attachTo(".AdaptiveGeoPlace--yelp",(0,r.default)(t,t.scribeComponent.placeYelp)),u.default.attachTo(".AdaptiveGeoPlace--foursquare",(0,r.default)(t,t.scribeComponent.placeFoursquare),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),p.default.attachTo(".AdaptiveGeoPlace--foursquare",(0,r.default)(t,t.scribeComponent.placeFoursquare))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=i(1471),r=s(a),o=i(1472),l=s(o),c=i(1499),d=s(c),h=i(1500),u=s(h),f=i(945),p=s(f)},1499:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.scribeHeadlineImpression=function(t,e){this.scribe("impression",e)},this.scribeOpenLink=function(t,e){this.scribe("open_link",e)},this.after("initialize",function(){this.on("uiAdaptivePlaceLoaded",this.scribeHeadlineImpression),this.on("uiAdaptivePlaceLinkOpened",this.scribeOpenLink)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(142),l=s(o);e.default=(0,r.default)(n,l.default)},1500:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({buttonSelector:".AdaptiveGeoPlace-linkButton"}),this.onClickLink=function(t){this.trigger("uiAdaptivePlaceLinkOpened",{scribeContext:{element:t}})},this.after("initialize",function(_,t){this.on("click",{buttonSelector:this.onClickLink.bind(this,"button")}),this.trigger("uiAdaptivePlaceLoaded")})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a);e.default=(0,r.default)(n)},1501:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t){var e=".AdaptiveStickersPage-title";(0,o.default)(t),u.attachTo(e,a({},t,{itemType:"user"}))}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=n;var r=i(1472),o=s(r),l=i(111),c=s(l),d=i(871),h=s(d),u=(0,c.default)(h.default)},1774:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){this.defaultAttrs({loggedIn:!1,language:t("html").attr("lang")||"en",searchButtonSelector:".submit",searchFormSelector:".twitter-form",geoPickerSelector:".geo-picker",geoPickerParentSelector:".geo .txt",datePickerSelector:".input-daterange",sinceInputSelector:".input-since",untilInputSelector:".input-until"}),this.serializeAdvancedForm=function(){var t=this.select("searchFormSelector"),e=t.serializeArray(),i=[];return e.forEach(function(e){var s=e.value,n=t.find("select[name=within]").val()+t.find("input:radio[name=units]:checked").val();if(s){var a=void 0,r=void 0,o=void 0,l=void 0;switch(e.name){case"ands":i.push(s);break;case"ors":r=s.split(" "),o=this.sanitize(r),i.push(o.join(" OR "));break;case"phrase":i.push('"'+s+'"');break;case"nots":r=("-"+s).split(" "),o=this.sanitize(r),i.push(o.join(" -"));break;case"tag":r=("#"+s.replace(/#+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR #"));break;case"from":r=("from:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR from:"));break;case"to":r=("to:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR to:"));break;case"ref":r=("@"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR @"));break;case"near":i.push('near:"'+s+'" within:'+n);break;case"place_id":a=t.find(".geo-picker .geo-status").text(),i.push('near:"'+a+'" within:'+n);break;case"since":l=this.getUTCyyyymmdd(this.select("sinceInputSelector").datepicker("getUTCDate")),i.push("since:"+l);break;case"until":l=this.getUTCyyyymmdd(this.select("untilInputSelector").datepicker("getUTCDate")),i.push("until:"+l)}}},this),i.join(" ").trim()},this.searchLanguage=function(){var t=this.select("searchFormSelector").find("#lang").val();return"all"===t?"":t},this.sanitize=function(t){return t.filter(function(t){return""!==t})},this.searchFormSubmit=function(t){t.preventDefault();var e=this.serializeAdvancedForm();if(e){this.trigger("uiSearchQuery",{query:e,source:"search"});var i={q:e,src:"typd"};i.l=this.searchLanguage();var s="/search?"+d.default.encode(i);this.trigger("uiNavigate",{href:s})}},this.initializeGeoPicker=function(){var t=this.select("geoPickerParentSelector");l.default.attachTo(this.select("geoPickerSelector"),{eventData:{scribeContext:{element:"geo_picker"}},parentSelector:this.attr.geoPickerParentSelector}),this.trigger(t,"uiPrepareGeoPicker")},this.initializeDatePicker=function(){this.select("datePickerSelector").datepicker({format:"yyyy-mm-dd",startDate:"2006-03-21",endDate:new Date,autoclose:!0,todayHighlight:!0,language:this.attr.language})},this.setUntilMinDate=function(t){this.select("untilInputSelector").datepicker("setStartDate",t.date)},this.setSinceMaxDate=function(t){this.select("sinceInputSelector").datepicker("setEndDate",t.date)},this.getUTCyyyymmdd=function(t){var e=t.getUTCFullYear().toString(),i=(t.getUTCMonth()+1).toString(),s=i[1]?i:"0"+i[0];t=t.getUTCDate().toString();var n=t[1]?t:"0"+t[0];return e+"-"+s+"-"+n},this.after("initialize",function(){this.attr.loggedIn&&this.initializeGeoPicker(),this.initializeDatePicker(),this.on("click",{searchButtonSelector:this.searchFormSubmit}),this.on(this.select("searchFormSelector"),"submit",this.searchFormSubmit),this.on(this.select("sinceInputSelector").datepicker(),"changeDate",this.setUntilMinDate),this.on(this.select("untilInputSelector").datepicker(),"changeDate",this.setSinceMaxDate)})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(111),r=s(a),o=i(1074),l=s(o),c=i(253),d=s(c),h=i(1775),u=s(h);e.default=(0,r.default)(n,u.default)}).call(e,i(10))},1775:function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(){var e=t("html").attr("lang"),i="rtl"===t("body").attr("dir");t.fn.datepicker.dates[e]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",rtl:i}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(123);s(a);i(1776),e.default=n}).call(e,i(10))},1776:function(t,e,i){!function(e){var s=i(10);e(s),t.exports=s}(function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return e(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function n(e,i){function s(_,t){return t.toLowerCase()}var n,a=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in a)i.test(l)&&(n=l.replace(o,s),r[n]=a[l]);return r}function a(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var s=f[e];return t.each(u,function(t,e){e in s&&(i[e]=s[e])}),i}}var r=t(window),o=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,s=this.length;i<s;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new o;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),l=function(e,s){this.dates=new o,this.viewDate=i(),this.focusDate=null,this._process_options(s),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(f[s]||(s=s.split("-")[0],f[s]||(s=h.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),
i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var n=p.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=p.parseDate(i.startDate,n,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=p.parseDate(i.endDate,n,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=t.grep(a,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(a,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s,n=0;n<t.length;n++)e=t[n][0],2===t[n].length?(i=void 0,s=t[n][1]):3===t[n].length&&(i=t[n][1],s=t[n][2]),e.on(s,i)},_unapplyEvents:function(t){for(var e,i,s,n=0;n<t.length;n++)e=t[n][0],2===t[n].length?(s=void 0,i=t[n][1]):3===t[n].length&&(s=t[n][1],i=t[n][2]),e.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.dates.get(-1),n=this._utc_to_local(s);this.element.trigger({type:e,date:n,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return p.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){void 0===e&&(e=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return p.formatDate(t,e,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),s=10,n=r.width(),a=r.height(),o=r.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=c.left,f=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=e-h)):(this.picker.addClass("datepicker-orient-left"),c.left<0?u-=c.left-s:c.left+e>n&&(u=n-e-s));var p,m,g=this.o.orientation.y;"auto"===g&&(p=-o+c.top-i,m=o+a-(c.top+d+i),g=Math.max(p,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f+=d:f-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:u,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],s=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return p.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),s?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===a.getFullYear()&&e.getUTCMonth()===a.getMonth()&&e.getUTCDate()===a.getDate()&&i.push("today"),this.dates.contains(e)!==-1&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),t.inArray(e.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var i,s=new Date(this.viewDate),n=s.getUTCFullYear(),a=s.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+n),this.picker.find("tfoot th.today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=e(n,a-1,28),m=p.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(m),u.setUTCDate(m-(u.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(u);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var v,w=[];u.valueOf()<g;){if(u.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var S=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),y=new Date(Number(S)+(11-S.getUTCDay())%7*864e5),b=new Date(Number(b=e(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),T=(y-b)/864e5/7+1;w.push('<td class="cw">'+T+"</td>")}if(v=this.getClassNames(u),v.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(u));void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&v.push("disabled"),C.classes&&(v=v.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}v=t.unique(v),w.push('<td class="'+v.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&D.eq(e.getUTCMonth()).addClass("active")}),(n<r||n>l)&&D.addClass("disabled"),n===r&&D.slice(0,o).addClass("disabled"),n===l&&D.slice(c+1).addClass("disabled"),w="",n=10*parseInt(n/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var I,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),P=-1;P<11;P++)I=["year"],P===-1?I.push("old"):10===P&&I.push("new"),t.inArray(n,M)!==-1&&I.push("active"),(n<r||n>l)&&I.push("disabled"),w+='<span class="'+I.join(" ")+'">'+n+"</span>",n+=1;k.html(w)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s,n,a,r=t(i.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=p.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=e(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(a=1,n=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(s,n,a))):(a=1,n=0,s=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(s,n,a))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(a=parseInt(r.text(),10)||1,s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r.is(".old")?0===n?(n=11,s-=1):n-=1:r.is(".new")&&(11===n?(n=0,s+=1):n+=1),this._setDate(e(s,n,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?e!==-1?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(t){if(!e)return t;var i,s,n=new Date(t.valueOf()),a=n.getUTCDate(),r=n.getUTCMonth(),o=Math.abs(e);if(e=e>0?1:-1,1===o)s=e===-1?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==i},i=r+e,n.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<o;l++)n=this.moveMonth(n,e);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n}},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,s,n,a=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+e),n=new Date(r),n.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+7*e),n=new Date(r),n.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),s=i.getUTCDate(),n=t.inArray(e.target,this.inputs),a=this.inputs.length;if(n!==-1){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(s)}),s<this.dates[n])for(;n>=0&&s<this.dates[n];)this.pickers[n--].setUTCDate(s);else if(s>this.dates[n])for(;n<a&&s>this.dates[n];)this.pickers[n++].setUTCDate(s);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker;t.fn.datepicker=function(e){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var r=t(this),o=r.data("datepicker"),d="object"==typeof e&&e;if(!o){var u=n(this,"date"),f=t.extend({},h,u,d),p=a(f.language),m=t.extend({},h,p,u,d);if(r.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",o=new c(this,t.extend(m,g)))}else r.data("datepicker",o=new l(this,m))}if("string"==typeof e&&"function"==typeof o[e]&&(s=o[e].apply(o,i),void 0!==s))return!1}),void 0!==s?s:this};var h=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,p.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,s,n){function a(){var t=this.slice(0,h[c].length),e=h[c].slice(0,t.length);return t===e}if(i){if(i instanceof Date)return i;"string"==typeof s&&(s=p.parseFormat(s));var r,o,c,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,c=0;c<h.length;c++)switch(r=d.exec(h[c]),o=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+o);break;case"m":i=l.prototype.moveMonth.call(l.prototype,i,o);break;case"w":i.setUTCDate(i.getUTCDate()+7*o);break;case"y":i=l.prototype.moveYear.call(l.prototype,i,o)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var u,m,g={},v=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var S=s.parts.slice();if(h.length!==S.length&&(S=t(S).filter(function(e,i){return t.inArray(i,v)!==-1}).toArray()),h.length===S.length){var y;for(c=0,y=S.length;c<y;c++){if(u=parseInt(h[c],10),r=S[c],isNaN(u))switch(r){case"MM":m=t(f[n].months).filter(a),u=t.inArray(m[0],f[n].months)+1;break;case"M":m=t(f[n].monthsShort).filter(a),u=t.inArray(m[0],f[n].monthsShort)+1}g[r]=u}var b,T;for(c=0;c<v.length;c++)T=v[c],T in g&&!isNaN(g[T])&&(b=new Date(i),w[T](b,g[T]),isNaN(b)||(i=b))}return i}},formatDate:function(e,i,s){if(!e)return"";"string"==typeof i&&(i=p.parseFormat(i));var n={d:e.getUTCDate(),D:f[s].daysShort[e.getUTCDay()],DD:f[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[s].monthsShort[e.getUTCMonth()],MM:f[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var a=t.extend([],i.separators),r=0,o=i.parts.length;r<=o;r++)a.length&&e.push(a.shift()),e.push(n[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=p,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})})}});
//# sourceMappingURL=16.pages_search.en.b3653ceeca07fb0d36a8.js.map